(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59dd0a07"],{"05f6":function(s,a,t){"use strict";t("28fa")},"28fa":function(s,a,t){},"92c4":function(s,a,t){"use strict";t.r(a);var o=function(){var s=this,a=s._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:s.showLoading,expression:"showLoading"}],staticClass:"loadingManager-container"},[a("div",{staticClass:"loadingManage-main"},[s.loadError?a("div",{staticClass:"loadingManager-close",on:{click:s.close}},[a("vis-icon",{attrs:{code:"#iconguanbi"}})],1):s._e(),a("div",{staticClass:"progress-title"},[a("vis-icon",{attrs:{code:"#iconwenjian"}}),s._v(" 正在加载："+s._s(s.title)+" ")],1),a("div",{staticClass:"overall-progress-box"},[a("div",{staticClass:"overall-progress"},[a("div",{staticClass:"overall-progress-main",style:{width:s.overllProgress+"%",backgroundColor:s.loadError?"#FF4C4C":null}})]),a("span",{staticClass:"overall-number",domProps:{textContent:s._s(`${s.loadSuccess}/${s.loadTotal}`)}})]),a("div",{staticClass:"detail-progress-box"},[a("div",{staticClass:"detail-title",on:{click:()=>{s.showDetail=!s.showDetail}}},[a("span",[s._v("展示详情")]),a("vis-icon",{style:{transform:s.showDetail?"rotate(0)":"rotate(-90deg)"},attrs:{code:"#iconxiala"}})],1),s.showDetail?a("div",{staticClass:"detail-message"},s._l(s.loadDetailMap,(function(t,o){return a("div",{key:o,staticClass:"detail-item",style:{color:t.error?"#FF4C4C":null}},[a("span",{staticClass:"detail-url",domProps:{textContent:s._s(t.url)}}),t.error?a("span",{domProps:{textContent:s._s(t.message)}}):[a("span",{staticClass:"detail-seat"}),a("span",{staticClass:"detail-number",domProps:{textContent:s._s(100*t.progress+"%")}})]],2)})),0):s._e()])])])},e=[],i=t("35bb"),l={data(){return{showLoading:!1,showDetail:!0,title:"",loadTotal:0,loadSuccess:0,loadError:0,loadDetailMap:{}}},computed:{overllProgress(){return 0===this.loadTotal?0:this.loadSuccess/this.loadTotal*100}},methods:{close(){this.showLoading=!1}},mounted(){const s=i["a"].loaderManager;s.addEventListener("beforeLoad",s=>{!this.showLoading&&(this.showLoading=!0)}),s.addEventListener("loading",s=>{!this.showLoading&&(this.showLoading=!0),this.loadTotal=s.loadTotal,this.loadSuccess=s.loadSuccess,this.loadError=s.loadError}),s.addEventListener("loaded",s=>{this.loadTotal=s.loadTotal,this.loadSuccess=s.loadSuccess,this.loadError=s.loadError,setTimeout(()=>{this.showLoading=!1},1e3)}),s.addEventListener("detailLoaded",a=>{this.title=a.url,this.loadDetailMap=s.getLoadDetailMap()})}},r=l,d=(t("05f6"),t("2877")),n=Object(d["a"])(r,o,e,!1,null,"f9608db0",null);a["default"]=n.exports}}]);